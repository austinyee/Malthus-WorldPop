!pip install wbdata
import wbdata
wbdata.get_country()
import pandas as pd
import numpy as np
wbdata.get_topic()

variable_labels = {"AG.LND.ARBL.HA":"Arable land (hectacres)"}
variable_labels_fert = {"AG.CON.FERT.ZS" : "Fertilizer consumption (kilograms per hectare of arable land"}
USA = wbdata.get_dataframe(variable_labels, country="USA" )
USAfert= wbdata.get_dataframe(variable_labels_fert, country="USA" )
#USAfood= wbdata.get_dataframe
#NGA USA 
# Date index is of type string; change to integers
USA.index = USA.index.astype(int)
USAfert.index = USAfert.index.astype(int)

# Print a few years' data
#USA.loc["date" :1990]
#USA(index=[1990])
USA.iloc[1:50]
USAfert.iloc[1:50]

USA.iplot(title="Arable Land",xTitle='Year',yTitle='Hectacres')
USAfert.iplot(title="Fertilizer Utilzation", xTitle='Year', yTitle="Hectacres")




Pandas Data frame
#skip until line


#______________________________________works for almost all datasets we are looking at just issues with whether or not they have data for our regions
def pandas_df(region):
    df=wbdata.get_dataframe({'SP.POP.GROW': 'SSF Total Population growth',
                              'SP.DYN.TFRT.IN' :'Fertility rate, total (births per woman)',
                              'SE.SEC.TCAQ.FE.ZS':'Number of trained female teachers (% of female teachers)',
                            'SL.UEM.TOTL.FE.ZS':'Unemployment, female (% of female labor force)',
                            'SL.UEM.TOTL.MA.ZS':  'Unemployment, male (% of male labor force)'}, country=region)
    df.index = df.index.rename('year')
    df.index = df.index.astype(int)
    #df = df.drop([2021,2020]) #no data for teachers in SSF none 
    return df
pandas_df("SSF") #returns all years in data set
cleaned=pandas_df("SSF")
cleaned.head() 
